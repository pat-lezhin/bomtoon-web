/* ─────────────────────────────────────────
   글로벌 변수
───────────────────────────────────────── */
:root{
  --app-h: 100svh;         /* 모바일 주소창 보정용 */
  --brand:#0a84ff;
  --badge:#ff3b30;
}

html, body{
  height:100%; margin:0;
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial;
  background:#0b0f17; color:#e5e7eb;
}

/* ─────────────────────────────────────────
   Stage (배경/중앙정렬/세이프에어리어)
───────────────────────────────────────── */
.stage{
  min-height: var(--app-h);
  display: grid;
  place-items: center;
  padding: clamp(12px, 3vw, 28px);
  padding-left:  max(clamp(12px, 3vw, 28px), env(safe-area-inset-left));
  padding-right: max(clamp(12px, 3vw, 28px), env(safe-area-inset-right));
  padding-top:   max(clamp(12px, 3vw, 28px), env(safe-area-inset-top));
  padding-bottom:max(clamp(12px, 3vw, 28px), env(safe-area-inset-bottom));
  position: relative;
  isolation: isolate;
  overflow: hidden;
  background:#0b0f17;
}

.stage::before{
  content:"";
  position:absolute; inset:-24px;
  background:url("../assets/bg/page.jpg") center/cover no-repeat;
  filter: blur(2px) saturate(1.05);
  transform: scale(1.02);
  z-index:-1;
}

/* ─────────────────────────────────────────
   Device wrapper (스케일로 뷰포트에 맞춤)
───────────────────────────────────────── */
.device-wrap{
  /* 👇 [수정] 너비와 높이를 고정값으로 변경합니다. */
  width: 390px;
  height: 844px;
  
  /* 👇 [유지] position과 transform은 그대로 사용합니다. */
  position: relative; 
  transform: scale(var(--phone-scale, 1));
  transform-origin: top left;
  filter: drop-shadow(0 26px 38px rgba(0,0,0,.45));
}

/* 👇 [추가] SVG 프레임 이미지 스타일 */
.iphone-frame {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none; /* 프레임 이미지가 클릭되는 것을 방지 */
  z-index: 5; /* 스크린보다 위에 위치 */
}


/* 👇 [수정] 스크린 위치를 프레임 안쪽에 정확히 맞춥니다. */
.screen{
  position: absolute;
  /* 이제 이 값들을 조절하면 화면이 정상적으로 움직일 겁니다. */
  top: 30px;
  left: 30px;
  right: 30px;
  bottom: 30px;
  border-radius: 48px; 
  overflow: hidden;
  background: #1e1e2f;
}

/* 👇 [수정] 다이나믹 아일랜드 위치를 새 프레임에 맞게 조정합니다. */
.island{ 
  position:absolute; 
  top: 24px; /* 기존 top:12px에서 조정 */
  left: 50%; 
  transform: translateX(-50%); 
  width:120px; 
  height:36px; 
  background:#000; 
  border-radius:20px; 
  z-index: 15; /* 상태바보다도 위에 위치 */
}

/* Status bar */
.statusbar{
  /* (기존 코드 유지) */
  position:absolute; top:8px; left:0; right:0;
  display:flex; justify-content:space-between;
  padding:8px 16px; font-size:12px;
  z-index: 10;
}
/* ─────────────────────────────────────────
   Lock
───────────────────────────────────────── */
.lock{
  position:absolute; inset:0;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  background:url("../assets/bg/lockscreen.jpg") center/cover no-repeat;
  color:#fff;
}
.lock .clock{ font-size:72px; font-weight:300; }
.lock .date{ margin-top:8px; font-size:14px; opacity:.9; }
.lock .hint{ position:absolute; bottom:24px; font-size:12px; opacity:.7; }

/* ─────────────────────────────────────────
   Home
───────────────────────────────────────── */
.home{
  position:absolute; inset:0;
  padding:64px 18px 24px;
  background:url("../assets/bg/lockscreen.jpg") center/cover no-repeat;
  color:#fff;
}
.home .grid{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:16px;
  margin-top:24px;
}

/* 앱 타일(버튼) – 기본 스타일 제거 */
.app-tile{
  -webkit-appearance:none; appearance:none;
  background:transparent; border:0; padding:0; margin:0;
  display:flex; flex-direction:column; align-items:center; gap:6px;
  color:#fff; cursor:pointer;
}
.app-tile:focus-visible{
  outline:2px solid rgba(255,255,255,.6);
  outline-offset:4px; border-radius:12px;
}
.app-tile:active .icon{ transform:scale(0.96); }

/* 아이콘 박스 */
.icon{
  width:64px; height:64px;
  /* 둥글게 자를 필요 없으면 아래 두 줄 주석 상태 유지 */
  /* border-radius:18px; */
  /* overflow:hidden; */
  border:none; box-shadow:none; display:grid; place-items:center;
}
.icon :where(svg){ width:100%; height:100%; display:block; }  /* 인라인 SVG */
.icon img{ width:100%; height:100%; object-fit:cover; display:block; background:transparent; } /* img 사용시 */

/* ─────────────────────────────────────────
   QA 버튼
───────────────────────────────────────── */
.qa-back{
  position:fixed; top:16px; left:16px; z-index:1000;
  width:40px; height:40px; border-radius:10px;
  border:1px solid rgba(255,255,255,.25);
  background:rgba(0,0,0,.45); color:#fff;
  display:grid; place-items:center;
  backdrop-filter:blur(6px); cursor:pointer;
}
.qa-back:active{ transform:translateY(1px); }
.qa-only{ display:none; }
body[data-qa="true"] .qa-only{ display:block; }

/* ─────────────────────────────────────────
   Lock
───────────────────────────────────────── */
.lock{
  position:absolute; inset:0;
  display:flex; flex-direction:column; align-items:center;
  /* 👇 [수정] justify-content를 삭제하여 요소들이 위쪽에 정렬되도록 합니다. */
  background:url("../assets/bg/lockscreen.jpg") center/cover no-repeat;
  color:#fff;
}

.lock .clock{ 
  /* 👇 [수정] margin-top으로 위치를 조절합니다. 이 값을 조절해 보세요. */
  margin-top: -470px; 
  font-size: 92px; 
  font-weight: 300; 
  letter-spacing: 1px;
  line-height: .9;
  text-shadow:0 6px 24px rgba(0,0,0,.45); 
}

.lock .date{ 
  margin-top:8px; 
  font-size:14px; 
  opacity:.95; 
  text-shadow:0 2px 8px rgba(0,0,0,.45);
}

.lock .hint{ 
  position:absolute; 
  /* 👇 [수정] bottom으로 위치를 조절합니다. 이 값을 조절해 보세요. */
  bottom: 730px;
  left:0; 
  right:0; 
  text-align:center; 
  font-size:12px; 
  opacity:.7; 
}

.lock .notif-wrap{ 
  position:absolute; 
  left:0; 
  right:0; 
  top:280px; 
  bottom:80px; 
  padding:0 16px; 
}

.lock .notif-stack{ 
  height:100%; 
  overflow:auto; 
  padding:2px 2px 10px; 
  mask-image: linear-gradient(transparent, #000 8%, #000 92%, transparent); 
}

.notif{ 
  background:rgba(255,255,255,.9); 
  color:#111; 
  border-radius:16px; 
  padding:12px 14px; 
  display:grid; 
  gap:2px; 
  box-shadow:0 6px 18px rgba(0,0,0,.25); 
  margin:10px 6px; 
}

.notif .t{ font-weight:700; font-size:13px; }
.notif .d{ font-size:12px; color:#374151; }

/* ===== Unlock animation (잠금 화면 애니메이션) ===== */
@keyframes unlockUp { 
  from { transform: translateY(0); opacity:1; } 
  to { transform: translateY(-40px); opacity:0; } 
}
@keyframes homeIn { 
  from { opacity:0; transform: scale(.98); filter: blur(2px); } 
  to { opacity:1; transform: scale(1); filter: blur(0); } 
}
.lock.unlocking{ animation: unlockUp .25s ease both; }
.home.show{ animation: homeIn .25s ease both; }

/* hidden 속성이 확실히 적용되도록 강제합니다. */
.home[hidden]{ display:none !important; }

/* ===== Share Button & Modal ===== */
.share-btn {
  position: absolute;
  bottom: 100px;
  left: 30px;
  width: 48px;
  height: 48px;
  background: rgba(255, 255, 255, .2);
  border: 1px solid rgba(255,255,255,.1);
  border-radius: 50%;
  font-size: 20px;
  color: #fff;
  cursor: pointer;
  display: grid;
  place-items: center;
  z-index: 10;
}

.share-modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, .4);
  backdrop-filter: blur(8px);
  z-index: 100;
  display: none; /* 평소엔 숨겨둠 */
  align-items: center;
  justify-content: center;
}

.share-box {
  background: #1f2937;
  padding: 28px;
  border-radius: 20px;
  text-align: center;
  position: relative;
  border: 1px solid rgba(255,255,255,.1);
  box-shadow: 0 10px 30px rgba(0,0,0,.3);
}

.share-box p {
  margin: 0 0 16px;
  font-weight: 700;
  font-size: 14px;
  color: #e5e7eb;
}

.share-link svg {
  width: 50px;
  height: 50px;
  fill: #fff;
  transition: transform .2s ease;
}
.share-link:hover svg {
    transform: scale(1.1);
}

.close-share {
  position: absolute;
  top: 8px;
  right: 12px;
  background: none;
  border: none;
  color: #9ca3af;
  font-size: 20px;
  cursor: pointer;
}